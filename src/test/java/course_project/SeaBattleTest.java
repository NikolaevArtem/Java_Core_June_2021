package course_project;

import base.UnitBase;

import org.junit.jupiter.api.Test;

import java.util.Arrays;
import java.util.Iterator;
import java.util.List;

import static org.junit.jupiter.api.Assertions.assertTrue;

public class SeaBattleTest extends UnitBase {

    private final List<String> oneMoveToWin = Arrays.asList(
            "2", "yes",
            "A1", " ", " ", "A2", " ", " ", "A3", " ", " ", "A4", " ", " ", "A5", " ", " ", "A6", " ", " ", "A7", " ", " ", "A8", " ", " ", "A9", " ", " ", "A10",
            " ", " ", "B10"," ", " ", "B9", " ", " ", "B8", " ", " ", "B7", " ", " ", "B6", " ", " ", "B5", " ", " ", "B4", " ", " ", "B3", " ", " ", "B2", " ", " ", "B1",
            " ", " ", "C10"," ", " ", "C9", " ", " ", "C8", " ", " ", "C7", " ", " ", "C6", " ", " ", "C5", " ", " ", "C4", " ", " ", "C3", " ", " ", "C2", " ", " ", "C1",
            " ", " ", "D10"," ", " ", "D9", " ", " ", "D8", " ", " ", "D7", " ", " ", "D6", " ", " ", "D5", " ", " ", "D4", " ", " ", "D3", " ", " ", "D2", " ", " ", "D1",
            " ", " ", "E10"," ", " ", "E9", " ", " ", "E8", " ", " ", "E7", " ", " ", "E6", " ", " ", "E5", " ", " ", "E4", " ", " ", "E3", " ", " ", "E2", " ", " ", "E1",
            " ", " ", "F10"," ", " ", "F9", " ", " ", "F8", " ", " ", "F7", " ", " ", "F6", " ", " ", "F5", " ", " ", "F4", " ", " ", "F3", " ", " ", "F2", " ", " ", "F1",
            " ", " ", "G10"," ", " ", "G9", " ", " ", "G8", " ", " ", "G7", " ", " ", "G6", " ", " ", "G5", " ", " ", "G4", " ", " ", "G3", " ", " ", "G2", " ", " ", "G1",
            " ", " ", "H10"," ", " ", "H9", " ", " ", "H8", " ", " ", "H7", " ", " ", "H6", " ", " ", "H5", " ", " ", "H4", " ", " ", "H3", " ", " ", "H2", " ", " ", "H1",
            " ", " ", "I10"," ", " ", "I9", " ", " ", "I8", " ", " ", "I7", " ", " ", "I6", " ", " ", "I5", " ", " ", "I4", " ", " ", "I3", " ", " ", "I2", " ", " ", "I1",
            " ", " ", "J10"," ", " ", "J9", " ", " ", "J8", " ", " ", "J7", " ", " ", "J6", " ", " ", "J5", " ", " ", "J4", " ", " ", "J3", " ", " ", "J2", " ", " ", "J1",
            "A1", " ", " ", "A2", " ", " ", "A3", " ", " ", "A4", " ", " ", "A5", " ", " ", "A6", " ", " ", "A7", " ", " ", "A8", " ", " ", "A9", " ", " ", "A10",
            " ", " ", "B10"," ", " ", "B9", " ", " ", "B8", " ", " ", "B7", " ", " ", "B6", " ", " ", "B5", " ", " ", "B4", " ", " ", "B3", " ", " ", "B2", " ", " ", "B1",
            " ", " ", "C10"," ", " ", "C9", " ", " ", "C8", " ", " ", "C7", " ", " ", "C6", " ", " ", "C5", " ", " ", "C4", " ", " ", "C3", " ", " ", "C2", " ", " ", "C1",
            " ", " ", "D10"," ", " ", "D9", " ", " ", "D8", " ", " ", "D7", " ", " ", "D6", " ", " ", "D5", " ", " ", "D4", " ", " ", "D3", " ", " ", "D2", " ", " ", "D1",
            " ", " ", "E10"," ", " ", "E9", " ", " ", "E8", " ", " ", "E7", " ", " ", "E6", " ", " ", "E5", " ", " ", "E4", " ", " ", "E3", " ", " ", "E2", " ", " ", "E1",
            " ", " ", "F10"," ", " ", "F9", " ", " ", "F8", " ", " ", "F7", " ", " ", "F6", " ", " ", "F5", " ", " ", "F4", " ", " ", "F3", " ", " ", "F2", " ", " ", "F1",
            " ", " ", "G10"," ", " ", "G9", " ", " ", "G8", " ", " ", "G7", " ", " ", "G6", " ", " ", "G5", " ", " ", "G4", " ", " ", "G3", " ", " ", "G2", " ", " ", "G1",
            " ", " ", "H10"," ", " ", "H9", " ", " ", "H8", " ", " ", "H7", " ", " ", "H6", " ", " ", "H5", " ", " ", "H4", " ", " ", "H3", " ", " ", "H2", " ", " ", "H1",
            " ", " ", "I10"," ", " ", "I9", " ", " ", "I8", " ", " ", "I7", " ", " ", "I6", " ", " ", "I5", " ", " ", "I4", " ", " ", "I3", " ", " ", "I2", " ", " ", "I1",
            " ", " ", "J10"," ", " ", "J9", " ", " ", "J8", " ", " ", "J7", " ", " ", "J6", " ", " ", "J5", " ", " ", "J4", " ", " ", "J3", " ", " ", "J2", " ", " ", "J1"
    );

    @Test
    void givenAllCoordinatesTwice_whenRun_thenEndGame() {
        SeaBattle sb = new SeaBattle();
        Iterator<String> iterator = oneMoveToWin.iterator();
        sb.setReader(iterator::next);
        sb.run();
        getOutput();
        printOut();
        assertTrue(getOutputLines()[getOutputLines().length - 1].contains("won the game!"));
    }
}
